{"ast":null,"code":"import { strHasLength } from \"./utils\";\nimport { COLOR_BLACK, COLOR_WHITE, POPUP_BORDER_COLOR } from \"./constants\";\nexport function getPopupRenderFunction(unclusteredLayerId, _ref) {\n  var _ref$popupBackgroundC = _ref.popupBackgroundColor,\n      background = _ref$popupBackgroundC === void 0 ? COLOR_WHITE : _ref$popupBackgroundC,\n      _ref$popupBorderColor = _ref.popupBorderColor,\n      borderColor = _ref$popupBorderColor === void 0 ? POPUP_BORDER_COLOR : _ref$popupBorderColor,\n      _ref$popupBorderWidth = _ref.popupBorderWidth,\n      borderWidth = _ref$popupBorderWidth === void 0 ? 2 : _ref$popupBorderWidth,\n      _ref$popupFontColor = _ref.popupFontColor,\n      fontColor = _ref$popupFontColor === void 0 ? COLOR_BLACK : _ref$popupFontColor,\n      _ref$popupPadding = _ref.popupPadding,\n      padding = _ref$popupPadding === void 0 ? 20 : _ref$popupPadding,\n      _ref$popupBorderRadiu = _ref.popupBorderRadius,\n      radius = _ref$popupBorderRadiu === void 0 ? 4 : _ref$popupBorderRadiu,\n      _ref$popupTitleFontWe = _ref.popupTitleFontWeight,\n      fontWeight = _ref$popupTitleFontWe === void 0 ? \"bold\" : _ref$popupTitleFontWe;\n  return function (selectedFeature) {\n    var title, address; // Try to get Title and address from existing feature properties\n\n    if (strHasLength(selectedFeature.properties.place_name)) {\n      var placeName = selectedFeature.properties.place_name.split(\",\");\n      title = placeName[0];\n      address = placeName.splice(1, placeName.length).join(\",\");\n    } else if (strHasLength(selectedFeature.properties.title) || strHasLength(selectedFeature.properties.address)) {\n      title = selectedFeature.properties.title;\n      address = selectedFeature.properties.address;\n    } else {\n      title = \"Coordinates\";\n      address = selectedFeature.geometry.coordinates;\n    }\n\n    var titleHtml = \"<div class=\\\"\".concat(unclusteredLayerId, \"-popup-title\\\" style=\\\"font-weight: \").concat(fontWeight, \";\\\">\").concat(title, \"</div>\");\n    var addressHtml = \"<div class=\\\"\".concat(unclusteredLayerId, \"-popup-address\\\">\").concat(address, \"</div>\");\n    var popupHtmlStyle = \"background: \".concat(background, \"; border: \").concat(borderWidth, \"px solid \").concat(borderColor, \"; color: \").concat(fontColor, \"; border-radius: \").concat(radius, \"px; padding: \").concat(padding, \"px; word-wrap: break-word; margin: -10px -10px -15px;\");\n    var popupHtml = \"<div class=\\\"\".concat(unclusteredLayerId, \"-popup\\\" style=\\\"\").concat(popupHtmlStyle, \"\\\">\");\n    if (title) popupHtml += titleHtml;\n    if (address) popupHtml += addressHtml;\n    popupHtml += \"</div>\";\n    return popupHtml;\n  };\n}","map":null,"metadata":{},"sourceType":"module"}