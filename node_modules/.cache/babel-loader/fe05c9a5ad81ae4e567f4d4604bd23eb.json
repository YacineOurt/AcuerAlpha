{"ast":null,"code":"import { jsx as s, Fragment as e } from \"react/jsx-runtime\";\nimport * as t from \"react\";\nimport { Provider as o, useAuthenticator as r } from \"./hooks/useAuthenticator/index.js\";\nimport { CustomComponentsContext as i } from \"./hooks/useCustomComponents/index.js\";\nimport \"../../primitives/View/View.js\";\nimport { Router as n } from \"./Router/Router.js\";\nimport { SetupTOTP as m } from \"./SetupTOTP/SetupTOTP.js\";\nimport { SignIn as u } from \"./SignIn/SignIn.js\";\nimport { SignUp as a } from \"./SignUp/SignUp.js\";\nimport { ForceNewPassword as c } from \"./ForceNewPassword/ForceNewPassword.js\";\nimport \"./ResetPassword/ConfirmResetPassword.js\";\nimport { ResetPassword as p } from \"./ResetPassword/ResetPassword.js\";\nimport { defaultComponents as d } from \"./hooks/useCustomComponents/defaultComponents.js\";\n\nfunction f(_ref) {\n  var o = _ref.children,\n      m = _ref.className,\n      u = _ref.components,\n      a = _ref.formFields,\n      c = _ref.hideSignUp,\n      p = _ref.initialState,\n      f = _ref.loginMechanisms,\n      g = _ref.signUpAttributes,\n      l = _ref.services,\n      j = _ref.socialProviders,\n      P = _ref.variation;\n\n  var _r = r(function (_ref2) {\n    var s = _ref2.route,\n        e = _ref2.signOut,\n        t = _ref2.user;\n    return [s, e, t];\n  }),\n      h = _r.route,\n      w = _r.signOut,\n      S = _r.user;\n\n  !function (s) {\n    var _r2 = r(function (_ref3) {\n      var s = _ref3.route;\n      return [s];\n    }),\n        e = _r2._send,\n        o = _r2.route,\n        i = t.useRef(!1);\n\n    t.useEffect(function () {\n      i.current || \"setup\" !== o || (e({\n        type: \"INIT\",\n        data: s\n      }), i.current = !0);\n    }, [e, o, s]);\n  }({\n    initialState: p,\n    loginMechanisms: f,\n    services: l,\n    signUpAttributes: g,\n    socialProviders: j,\n    formFields: a\n  });\n  var O = t.useMemo(function () {\n    return {\n      components: Object.assign(Object.assign({}, d), u)\n    };\n  }, [u]);\n  return \"authenticated\" === h || \"signOut\" === h ? o ? s(e, {\n    children: \"function\" == typeof o ? o({\n      signOut: w,\n      user: S\n    }) : o\n  }) : null : s(i.Provider, Object.assign({\n    value: O\n  }, {\n    children: s(n, {\n      className: m,\n      hideSignUp: c,\n      variation: P\n    })\n  }));\n}\n\nfunction g(e) {\n  return s(o, {\n    children: s(f, Object.assign({}, e))\n  });\n}\n\ng.Provider = o, g.ResetPassword = p, g.SetupTOTP = m, g.SignIn = u, g.SignUp = a, g.ForceNewPassword = c;\nexport { g as Authenticator, f as AuthenticatorInternal };","map":null,"metadata":{},"sourceType":"module"}