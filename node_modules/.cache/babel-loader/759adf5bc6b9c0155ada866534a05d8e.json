{"ast":null,"code":"import _defineProperty from \"/home/yacine/Pro/alpha/AcuerAlpha/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/home/yacine/Pro/alpha/AcuerAlpha/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _toConsumableArray from \"/home/yacine/Pro/alpha/AcuerAlpha/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"/home/yacine/Pro/alpha/AcuerAlpha/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/home/yacine/Pro/alpha/AcuerAlpha/src/views/ChartRenderer.js\";\n\nimport ReactDOM from \"react-dom\";\nimport cubejs from \"@cubejs-client/core\";\nimport { QueryRenderer } from \"@cubejs-client/react\";\nimport { Spin } from \"antd\";\nimport \"antd/dist/antd.css\";\nimport React from \"react\";\nimport { CartesianGrid, PieChart, Pie, Cell, AreaChart, Area, XAxis, YAxis, Tooltip, ResponsiveContainer, Legend, BarChart, Bar, LineChart, Line } from \"recharts\";\nimport { Row, Col, Statistic, Table } from \"antd\";\nimport { useDeepCompareMemo } from \"use-deep-compare\";\nimport { Card, CardBody, Form, FormInput } from \"shards-react\";\n\nvar CartesianChart = function CartesianChart(_ref) {\n  var resultSet = _ref.resultSet,\n      children = _ref.children,\n      ChartComponent = _ref.ChartComponent;\n  return /*#__PURE__*/React.createElement(ResponsiveContainer, {\n    width: \"100%\",\n    height: 350,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(ChartComponent, {\n    data: resultSet.chartPivot(),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(XAxis, {\n    dataKey: \"x\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(YAxis, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(CartesianGrid, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }\n  }), children, /*#__PURE__*/React.createElement(Legend, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Tooltip, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }\n  })));\n};\n\nvar colors = [\"#FF6492\", \"#141446\", \"#7A77FF\"];\n\nvar stackedChartData = function stackedChartData(resultSet) {\n  var data = resultSet.pivot().map(function (_ref2) {\n    var xValues = _ref2.xValues,\n        yValuesArray = _ref2.yValuesArray;\n    return yValuesArray.map(function (_ref3) {\n      var _ref4 = _slicedToArray(_ref3, 2),\n          yValues = _ref4[0],\n          m = _ref4[1];\n\n      return {\n        x: resultSet.axisValuesString(xValues, \", \"),\n        color: resultSet.axisValuesString(yValues, \", \"),\n        measure: m && Number.parseFloat(m)\n      };\n    });\n  }).reduce(function (a, b) {\n    return a.concat(b);\n  }, []);\n  return data;\n};\n\nvar formatTableData = function formatTableData(columns, data) {\n  function flatten() {\n    var columns = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    return columns.reduce(function (memo, column) {\n      if (column.children) {\n        return [].concat(_toConsumableArray(memo), _toConsumableArray(flatten(column.children)));\n      }\n\n      return [].concat(_toConsumableArray(memo), [column]);\n    }, []);\n  }\n\n  var typeByIndex = flatten(columns).reduce(function (memo, column) {\n    return _objectSpread({}, memo, _defineProperty({}, column.dataIndex, column));\n  }, {});\n\n  function formatValue(value) {\n    var _ref5 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        type = _ref5.type,\n        format = _ref5.format;\n\n    if (value == undefined) {\n      return value;\n    }\n\n    if (type === \"boolean\") {\n      if (typeof value === \"boolean\") {\n        return value.toString();\n      } else if (typeof value === \"number\") {\n        return Boolean(value).toString();\n      }\n\n      return value;\n    }\n\n    if (type === \"number\" && format === \"percent\") {\n      return [parseFloat(value).toFixed(2), \"%\"].join(\"\");\n    }\n\n    return value.toString();\n  }\n\n  function format(row) {\n    return Object.fromEntries(Object.entries(row).map(function (_ref6) {\n      var _ref7 = _slicedToArray(_ref6, 2),\n          dataIndex = _ref7[0],\n          value = _ref7[1];\n\n      return [dataIndex, formatValue(value, typeByIndex[dataIndex])];\n    }));\n  }\n\n  return data.map(format);\n};\n\nvar TableRenderer = function TableRenderer(_ref8) {\n  var resultSet = _ref8.resultSet,\n      pivotConfig = _ref8.pivotConfig;\n\n  var _useDeepCompareMemo = useDeepCompareMemo(function () {\n    var columns = resultSet.tableColumns(pivotConfig);\n    return [columns, formatTableData(columns, resultSet.tablePivot(pivotConfig))];\n  }, [resultSet, pivotConfig]),\n      _useDeepCompareMemo2 = _slicedToArray(_useDeepCompareMemo, 2),\n      tableColumns = _useDeepCompareMemo2[0],\n      dataSource = _useDeepCompareMemo2[1];\n\n  return /*#__PURE__*/React.createElement(Table, {\n    pagination: false,\n    columns: tableColumns,\n    dataSource: dataSource,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 5\n    }\n  });\n};\n\nvar cubejsApi = cubejs(\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpYXQiOjE2NjAwODAxNDUsImV4cCI6MTY2MDE2NjU0NX0.8DzNlZxaj-E1Vh5wMP10_-KmM9GfgLAFgPf-9eIAug0\", {\n  apiUrl: \"https://e83scc9sam.eu-west-1.awsapprunner.com/cubejs-api/v1\"\n});\n\nvar renderNumber = function renderNumber(_ref9) {\n  var resultSet = _ref9.resultSet,\n      error = _ref9.error,\n      pivotConfig = _ref9.pivotConfig,\n      onDrilldownRequested = _ref9.onDrilldownRequested;\n\n  if (error) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 12\n      }\n    }, error.toString());\n  }\n\n  if (!resultSet) {\n    return /*#__PURE__*/React.createElement(Spin, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 12\n      }\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(Row, {\n    type: \"flex\",\n    justify: \"center\",\n    align: \"middle\",\n    style: {\n      height: \"100%\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 7\n    }\n  }, resultSet.seriesNames().map(function (s) {\n    return /*#__PURE__*/React.createElement(Statistic, {\n      value: resultSet.totalRow()[s.key],\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 11\n      }\n    });\n  })));\n};\n\nvar renderChart = function renderChart(_ref10) {\n  var resultSet = _ref10.resultSet,\n      error = _ref10.error,\n      pivotConfig = _ref10.pivotConfig,\n      onDrilldownRequested = _ref10.onDrilldownRequested;\n\n  if (error) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 12\n      }\n    }, error.toString());\n  }\n\n  if (!resultSet) {\n    return /*#__PURE__*/React.createElement(Spin, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 12\n      }\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(CartesianChart, {\n    resultSet: resultSet,\n    ChartComponent: LineChart,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 5\n    }\n  }, resultSet.seriesNames().map(function (series, i) {\n    return /*#__PURE__*/React.createElement(Line, {\n      key: series.key,\n      stackId: \"a\",\n      dataKey: series.key,\n      name: series.title,\n      stroke: colors[i],\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 9\n      }\n    });\n  }));\n};\n\nvar renderBar = function renderBar(_ref11) {\n  var resultSet = _ref11.resultSet,\n      error = _ref11.error,\n      pivotConfig = _ref11.pivotConfig,\n      onDrilldownRequested = _ref11.onDrilldownRequested;\n\n  if (error) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 12\n      }\n    }, error.toString());\n  }\n\n  if (!resultSet) {\n    return /*#__PURE__*/React.createElement(Spin, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 12\n      }\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(CartesianChart, {\n    resultSet: resultSet,\n    ChartComponent: BarChart,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 5\n    }\n  }, resultSet.seriesNames().map(function (series, i) {\n    return /*#__PURE__*/React.createElement(Bar, {\n      key: series.key,\n      stackId: \"a\",\n      dataKey: series.key,\n      name: series.title,\n      fill: colors[i],\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 9\n      }\n    });\n  }));\n};\n\nvar ChartRenderer = function ChartRenderer() {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    small: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(QueryRenderer, {\n    query: {\n      measures: [\"LineItems.quantity\"],\n      order: {\n        \"LineItems.quantity\": \"desc\"\n      },\n      dimensions: [\"LineItems.createdAt\"]\n    },\n    cubejsApi: cubejsApi,\n    resetResultSetOnChange: false,\n    render: function render(props) {\n      return renderChart(_objectSpread({}, props, {\n        chartType: \"line\",\n        pivotConfig: {\n          x: [\"LineItems.createdAt\"],\n          y: [\"measures\"],\n          fillMissingDates: true,\n          joinDateRange: false\n        }\n      }));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(QueryRenderer, {\n    query: {\n      measures: [\"LineItems.quantity\"],\n      order: {\n        \"LineItems.quantity\": \"desc\"\n      },\n      dimensions: [\"LineItems.createdAt\"]\n    },\n    cubejsApi: cubejsApi,\n    resetResultSetOnChange: false,\n    render: function render(props) {\n      return renderNumber(_objectSpread({}, props, {\n        chartType: \"number\",\n        pivotConfig: {\n          x: [\"LineItems.createdAt\"],\n          y: [\"measures\"],\n          fillMissingDates: true,\n          joinDateRange: false\n        }\n      }));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(QueryRenderer, {\n    query: {\n      measures: [\"LineItems.count\"],\n      order: {\n        \"LineItems.count\": \"desc\"\n      },\n      dimensions: [\"LineItems.createdAt\"],\n      timeDimensions: [{\n        dimension: \"LineItems.createdAt\"\n      }]\n    },\n    cubejsApi: cubejsApi,\n    resetResultSetOnChange: false,\n    render: function render(props) {\n      return renderBar(_objectSpread({}, props, {\n        chartType: \"bar\",\n        pivotConfig: {\n          x: [\"LineItems.createdAt\"],\n          y: [\"measures\"],\n          fillMissingDates: true,\n          joinDateRange: false\n        }\n      }));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default ChartRenderer;","map":{"version":3,"names":["ReactDOM","cubejs","QueryRenderer","Spin","React","CartesianGrid","PieChart","Pie","Cell","AreaChart","Area","XAxis","YAxis","Tooltip","ResponsiveContainer","Legend","BarChart","Bar","LineChart","Line","Row","Col","Statistic","Table","useDeepCompareMemo","Card","CardBody","Form","FormInput","CartesianChart","resultSet","children","ChartComponent","chartPivot","colors","stackedChartData","data","pivot","map","xValues","yValuesArray","yValues","m","x","axisValuesString","color","measure","Number","parseFloat","reduce","a","b","concat","formatTableData","columns","flatten","memo","column","typeByIndex","dataIndex","formatValue","value","type","format","undefined","toString","Boolean","toFixed","join","row","Object","fromEntries","entries","TableRenderer","pivotConfig","tableColumns","tablePivot","dataSource","cubejsApi","apiUrl","renderNumber","error","onDrilldownRequested","height","seriesNames","s","totalRow","key","renderChart","series","i","title","renderBar","ChartRenderer","measures","order","dimensions","props","chartType","y","fillMissingDates","joinDateRange","timeDimensions","dimension"],"sources":["/home/yacine/Pro/alpha/AcuerAlpha/src/views/ChartRenderer.js"],"sourcesContent":["import ReactDOM from \"react-dom\";\nimport cubejs from \"@cubejs-client/core\";\nimport { QueryRenderer } from \"@cubejs-client/react\";\nimport { Spin } from \"antd\";\nimport \"antd/dist/antd.css\";\nimport React from \"react\";\nimport {\n  CartesianGrid,\n  PieChart,\n  Pie,\n  Cell,\n  AreaChart,\n  Area,\n  XAxis,\n  YAxis,\n  Tooltip,\n  ResponsiveContainer,\n  Legend,\n  BarChart,\n  Bar,\n  LineChart,\n  Line\n} from \"recharts\";\nimport { Row, Col, Statistic, Table } from \"antd\";\nimport { useDeepCompareMemo } from \"use-deep-compare\";\nimport { Card, CardBody, Form, FormInput } from \"shards-react\";\n\nconst CartesianChart = ({ resultSet, children, ChartComponent }) => (\n  <ResponsiveContainer width=\"100%\" height={350}>\n    <ChartComponent data={resultSet.chartPivot()}>\n      <XAxis dataKey=\"x\" />\n      <YAxis />\n      <CartesianGrid />\n      {children}\n      <Legend />\n      <Tooltip />\n    </ChartComponent>\n  </ResponsiveContainer>\n);\n\nconst colors = [\"#FF6492\", \"#141446\", \"#7A77FF\"];\n\nconst stackedChartData = resultSet => {\n  const data = resultSet\n    .pivot()\n    .map(({ xValues, yValuesArray }) =>\n      yValuesArray.map(([yValues, m]) => ({\n        x: resultSet.axisValuesString(xValues, \", \"),\n        color: resultSet.axisValuesString(yValues, \", \"),\n        measure: m && Number.parseFloat(m)\n      }))\n    )\n    .reduce((a, b) => a.concat(b), []);\n  return data;\n};\n\nconst formatTableData = (columns, data) => {\n  function flatten(columns = []) {\n    return columns.reduce((memo, column) => {\n      if (column.children) {\n        return [...memo, ...flatten(column.children)];\n      }\n\n      return [...memo, column];\n    }, []);\n  }\n\n  const typeByIndex = flatten(columns).reduce((memo, column) => {\n    return { ...memo, [column.dataIndex]: column };\n  }, {});\n\n  function formatValue(value, { type, format } = {}) {\n    if (value == undefined) {\n      return value;\n    }\n\n    if (type === \"boolean\") {\n      if (typeof value === \"boolean\") {\n        return value.toString();\n      } else if (typeof value === \"number\") {\n        return Boolean(value).toString();\n      }\n\n      return value;\n    }\n\n    if (type === \"number\" && format === \"percent\") {\n      return [parseFloat(value).toFixed(2), \"%\"].join(\"\");\n    }\n\n    return value.toString();\n  }\n\n  function format(row) {\n    return Object.fromEntries(\n      Object.entries(row).map(([dataIndex, value]) => {\n        return [dataIndex, formatValue(value, typeByIndex[dataIndex])];\n      })\n    );\n  }\n\n  return data.map(format);\n};\n\nconst TableRenderer = ({ resultSet, pivotConfig }) => {\n  const [tableColumns, dataSource] = useDeepCompareMemo(() => {\n    const columns = resultSet.tableColumns(pivotConfig);\n    return [\n      columns,\n      formatTableData(columns, resultSet.tablePivot(pivotConfig))\n    ];\n  }, [resultSet, pivotConfig]);\n  return (\n    <Table pagination={false} columns={tableColumns} dataSource={dataSource} />\n  );\n};\n\nconst cubejsApi = cubejs(\n  \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpYXQiOjE2NjAwODAxNDUsImV4cCI6MTY2MDE2NjU0NX0.8DzNlZxaj-E1Vh5wMP10_-KmM9GfgLAFgPf-9eIAug0\",\n  { apiUrl: \"https://e83scc9sam.eu-west-1.awsapprunner.com/cubejs-api/v1\" }\n);\n\nconst renderNumber = ({\n  resultSet,\n  error,\n  pivotConfig,\n  onDrilldownRequested\n}) => {\n  if (error) {\n    return <div>{error.toString()}</div>;\n  }\n\n  if (!resultSet) {\n    return <Spin />;\n  }\n\n  return (\n    <Row\n      type=\"flex\"\n      justify=\"center\"\n      align=\"middle\"\n      style={{\n        height: \"100%\"\n      }}\n    >\n      <Col>\n        {resultSet.seriesNames().map(s => (\n          <Statistic value={resultSet.totalRow()[s.key]} />\n        ))}\n      </Col>\n    </Row>\n  );\n};\n\nconst renderChart = ({\n  resultSet,\n  error,\n  pivotConfig,\n  onDrilldownRequested\n}) => {\n  if (error) {\n    return <div>{error.toString()}</div>;\n  }\n\n  if (!resultSet) {\n    return <Spin />;\n  }\n\n  return (\n    <CartesianChart resultSet={resultSet} ChartComponent={LineChart}>\n      {resultSet.seriesNames().map((series, i) => (\n        <Line\n          key={series.key}\n          stackId=\"a\"\n          dataKey={series.key}\n          name={series.title}\n          stroke={colors[i]}\n        />\n      ))}\n    </CartesianChart>\n  );\n};\n\nconst renderBar = ({ resultSet, error, pivotConfig, onDrilldownRequested }) => {\n  if (error) {\n    return <div>{error.toString()}</div>;\n  }\n\n  if (!resultSet) {\n    return <Spin />;\n  }\n\n  return (\n    <CartesianChart resultSet={resultSet} ChartComponent={BarChart}>\n      {resultSet.seriesNames().map((series, i) => (\n        <Bar\n          key={series.key}\n          stackId=\"a\"\n          dataKey={series.key}\n          name={series.title}\n          fill={colors[i]}\n        />\n      ))}\n    </CartesianChart>\n  );\n};\n\nconst ChartRenderer = () => {\n  return (\n    <div>\n      <Card small>\n        <QueryRenderer\n          query={{\n            measures: [\"LineItems.quantity\"],\n            order: {\n              \"LineItems.quantity\": \"desc\"\n            },\n            dimensions: [\"LineItems.createdAt\"]\n          }}\n          cubejsApi={cubejsApi}\n          resetResultSetOnChange={false}\n          render={props =>\n            renderChart({\n              ...props,\n              chartType: \"line\",\n              pivotConfig: {\n                x: [\"LineItems.createdAt\"],\n                y: [\"measures\"],\n                fillMissingDates: true,\n                joinDateRange: false\n              }\n            })\n          }\n        />\n      </Card>\n      <QueryRenderer\n        query={{\n          measures: [\"LineItems.quantity\"],\n          order: {\n            \"LineItems.quantity\": \"desc\"\n          },\n          dimensions: [\"LineItems.createdAt\"]\n        }}\n        cubejsApi={cubejsApi}\n        resetResultSetOnChange={false}\n        render={props =>\n          renderNumber({\n            ...props,\n            chartType: \"number\",\n            pivotConfig: {\n              x: [\"LineItems.createdAt\"],\n              y: [\"measures\"],\n              fillMissingDates: true,\n              joinDateRange: false\n            }\n          })\n        }\n      />\n      <QueryRenderer\n        query={{\n          measures: [\"LineItems.count\"],\n          order: {\n            \"LineItems.count\": \"desc\"\n          },\n          dimensions: [\"LineItems.createdAt\"],\n          timeDimensions: [\n            {\n              dimension: \"LineItems.createdAt\"\n            }\n          ]\n        }}\n        cubejsApi={cubejsApi}\n        resetResultSetOnChange={false}\n        render={props =>\n          renderBar({\n            ...props,\n            chartType: \"bar\",\n            pivotConfig: {\n              x: [\"LineItems.createdAt\"],\n              y: [\"measures\"],\n              fillMissingDates: true,\n              joinDateRange: false\n            }\n          })\n        }\n      />\n    </div>\n  );\n};\n\nexport default ChartRenderer;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}