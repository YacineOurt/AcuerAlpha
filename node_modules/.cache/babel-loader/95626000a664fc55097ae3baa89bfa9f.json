{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"/home/yacine/Pro/alpha/back/dashboard-app/src/index.js\";\n\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport cubejs from \"@cubejs-client/core\";\nimport { CubeProvider, useCubeQuery } from \"@cubejs-client/react\";\nimport { Bar } from \"react-chartjs-2\"; // import \"chartjs-plugin-colorschemes\";\n// import { RdPu4 } from \"chartjs-plugin-colorschemes/src/colorschemes/colorschemes.brewer\";\n\nimport moment from \"moment\"; // Create an instance of Cube.js JavaScript Client\n\nvar cubejsApi = cubejs(\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpYXQiOjE1OTQ2NjY4OTR9.0fdi5cuDZ2t3OSrPOMoc3B1_pwhnWj4ZmM3FHEX7Aus\", {\n  apiUrl: \"https://awesome-ecom.gcp-us-central1.cubecloudapp.dev/cubejs-api/v1\"\n});\n\nvar App = function App() {\n  // Query data from Cube.js Backend\n  var _useCubeQuery = useCubeQuery({\n    measures: [\"Orders.count\"],\n    dimensions: [\"ProductCategories.name\"],\n    filters: [{\n      member: \"ProductCategories.name\",\n      operator: \"equals\",\n      values: [\"Beauty\", \"Clothing\", \"Computers\", \"Electronics\"]\n    }],\n    timeDimensions: [{\n      dimension: \"Orders.createdAt\",\n      granularity: \"month\",\n      dateRange: \"last 6 month\"\n    }]\n  }),\n      resultSet = _useCubeQuery.resultSet,\n      isLoading = _useCubeQuery.isLoading,\n      error = _useCubeQuery.error,\n      progress = _useCubeQuery.progress;\n\n  if (isLoading) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 7\n      }\n    }, progress && progress.stage && progress.stage.stage || \"Loading...\");\n  }\n\n  if (error) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 12\n      }\n    }, error.toString());\n  }\n\n  if (!resultSet) {\n    return null;\n  } //Transform data for visualization\n\n\n  var labels = resultSet.seriesNames({\n    x: [],\n    y: [\"Orders.createdAt\"]\n  }).map(function (column) {\n    return moment(column.yValues[0]).format(\"MMMM\");\n  });\n  var datasets = resultSet.series().map(function (item, i) {\n    return {\n      label: item.title,\n      data: item.series.map(function (item) {\n        return item.value;\n      })\n    };\n  });\n  return (\n    /*#__PURE__*/\n    //Visualize the data\n    React.createElement(Bar, {\n      data: {\n        labels: labels,\n        datasets: datasets\n      },\n      options: {\n        legend: {\n          position: \"bottom\",\n          align: \"start\"\n        },\n        plugins: {\n          colorschemes: {\n            scheme: RdPu4\n          }\n        }\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 5\n      }\n    })\n  );\n};\n\nvar rootElement = document.getElementById(\"root\");\nReactDOM.render( /*#__PURE__*/React.createElement(React.StrictMode, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 99,\n    columnNumber: 3\n  }\n}, /*#__PURE__*/React.createElement(CubeProvider, {\n  cubejsApi: cubejsApi,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 100,\n    columnNumber: 5\n  }\n}, /*#__PURE__*/React.createElement(App, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 101,\n    columnNumber: 7\n  }\n}))), rootElement);","map":{"version":3,"names":["React","ReactDOM","cubejs","CubeProvider","useCubeQuery","Bar","moment","cubejsApi","apiUrl","App","measures","dimensions","filters","member","operator","values","timeDimensions","dimension","granularity","dateRange","resultSet","isLoading","error","progress","stage","toString","labels","seriesNames","x","y","map","column","yValues","format","datasets","series","item","i","label","title","data","value","legend","position","align","plugins","colorschemes","scheme","RdPu4","rootElement","document","getElementById","render"],"sources":["/home/yacine/Pro/alpha/back/dashboard-app/src/index.js"],"sourcesContent":["import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport cubejs from \"@cubejs-client/core\";\nimport { CubeProvider, useCubeQuery } from \"@cubejs-client/react\";\n\nimport { Bar } from \"react-chartjs-2\";\n\n// import \"chartjs-plugin-colorschemes\";\n// import { RdPu4 } from \"chartjs-plugin-colorschemes/src/colorschemes/colorschemes.brewer\";\n\nimport moment from \"moment\";\n\n// Create an instance of Cube.js JavaScript Client\nconst cubejsApi = cubejs(\n  \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpYXQiOjE1OTQ2NjY4OTR9.0fdi5cuDZ2t3OSrPOMoc3B1_pwhnWj4ZmM3FHEX7Aus\",\n  {\n    apiUrl:\n      \"https://awesome-ecom.gcp-us-central1.cubecloudapp.dev/cubejs-api/v1\"\n  }\n);\n\nconst App = () => {\n  // Query data from Cube.js Backend\n  const { resultSet, isLoading, error, progress } = useCubeQuery({\n    measures: [\"Orders.count\"],\n    dimensions: [\"ProductCategories.name\"],\n    filters: [\n      {\n        member: \"ProductCategories.name\",\n        operator: \"equals\",\n        values: [\"Beauty\", \"Clothing\", \"Computers\", \"Electronics\"]\n      }\n    ],\n    timeDimensions: [\n      {\n        dimension: \"Orders.createdAt\",\n        granularity: \"month\",\n        dateRange: \"last 6 month\"\n      }\n    ]\n  });\n\n  if (isLoading) {\n    return (\n      <div>\n        {(progress && progress.stage && progress.stage.stage) || \"Loading...\"}\n      </div>\n    );\n  }\n\n  if (error) {\n    return <div>{error.toString()}</div>;\n  }\n\n  if (!resultSet) {\n    return null;\n  }\n\n  //Transform data for visualization\n  const labels = resultSet\n    .seriesNames({\n      x: [],\n      y: [\"Orders.createdAt\"]\n    })\n    .map((column) => moment(column.yValues[0]).format(\"MMMM\"));\n\n  const datasets = resultSet.series().map((item, i) => {\n    return {\n      label: item.title,\n      data: item.series.map((item) => item.value)\n    };\n  });\n\n  return (\n    //Visualize the data\n    <Bar\n      data={{\n        labels,\n        datasets\n      }}\n      options={{\n        legend: {\n          position: \"bottom\",\n          align: \"start\"\n        },\n        plugins: {\n          colorschemes: {\n            scheme: RdPu4\n          }\n        }\n      }}\n    />\n  );\n};\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(\n  <React.StrictMode>\n    <CubeProvider cubejsApi={cubejsApi}>\n      <App />\n    </CubeProvider>\n  </React.StrictMode>,\n  rootElement\n);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}