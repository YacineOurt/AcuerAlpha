{"ast":null,"code":"import _slicedToArray from \"/home/yacine/Pro/alpha/back/dashboard-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _defineProperty from \"/home/yacine/Pro/alpha/back/dashboard-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _toConsumableArray from \"/home/yacine/Pro/alpha/back/dashboard-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"/home/yacine/Pro/alpha/back/dashboard-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\n\nvar _this = this,\n    _jsxFileName = \"/home/yacine/Pro/alpha/back/dashboard-app/src/index.js\";\n\nimport ReactDOM from 'react-dom';\nimport cubejs from '@cubejs-client/core';\nimport { QueryRenderer } from '@cubejs-client/react';\nimport { Spin } from 'antd';\nimport 'antd/dist/antd.css';\nimport React from 'react';\nimport { Line, Bar, Pie } from 'chartjs';\nimport { useDeepCompareMemo } from 'use-deep-compare';\nimport { Row, Col, Statistic, Table } from 'antd';\nvar COLORS_SERIES = ['#5b8ff9', '#5ad8a6', '#5e7092', '#f6bd18', '#6f5efa', '#6ec8ec', '#945fb9', '#ff9845', '#299796', '#fe99c3'];\nvar PALE_COLORS_SERIES = ['#d7e3fd', '#daf5e9', '#d6dbe4', '#fdeecd', '#dad8fe', '#dbf1fa', '#e4d7ed', '#ffe5d2', '#cce5e4', '#ffe6f0'];\nvar commonOptions = {\n  maintainAspectRatio: false,\n  interaction: {\n    intersect: false\n  },\n  plugins: {\n    legend: {\n      position: 'bottom'\n    }\n  },\n  scales: {\n    x: {\n      ticks: {\n        autoSkip: true,\n        maxRotation: 0,\n        padding: 12,\n        minRotation: 0\n      }\n    }\n  }\n};\n\nvar useDrilldownCallback = function useDrilldownCallback(_ref) {\n  var datasets = _ref.datasets,\n      labels = _ref.labels,\n      onDrilldownRequested = _ref.onDrilldownRequested,\n      pivotConfig = _ref.pivotConfig;\n  return React.useCallback(function (elements) {\n    if (elements.length <= 0) return;\n    var _elements$ = elements[0],\n        datasetIndex = _elements$.datasetIndex,\n        index = _elements$.index;\n    var yValues = datasets[datasetIndex].yValues;\n    var xValues = [labels[index]];\n\n    if (typeof onDrilldownRequested === 'function') {\n      onDrilldownRequested({\n        xValues: xValues,\n        yValues: yValues\n      }, pivotConfig);\n    }\n  }, [datasets, labels, onDrilldownRequested]);\n};\n\nvar LineChartRenderer = function LineChartRenderer(_ref2) {\n  var resultSet = _ref2.resultSet,\n      onDrilldownRequested = _ref2.onDrilldownRequested;\n  var datasets = useDeepCompareMemo(function () {\n    return resultSet.series().map(function (s, index) {\n      return {\n        label: s.title,\n        data: s.series.map(function (r) {\n          return r.value;\n        }),\n        yValues: [s.key],\n        borderColor: COLORS_SERIES[index],\n        pointRadius: 1,\n        tension: 0.1,\n        pointHoverRadius: 1,\n        borderWidth: 2,\n        tickWidth: 1,\n        fill: false\n      };\n    });\n  }, [resultSet]);\n  var data = {\n    labels: resultSet.categories().map(function (c) {\n      return c.x;\n    }),\n    datasets: datasets\n  };\n  var getElementAtEvent = useDrilldownCallback({\n    datasets: data.datasets,\n    labels: data.labels,\n    onDrilldownRequested: onDrilldownRequested\n  });\n  return /*#__PURE__*/React.createElement(Line, {\n    type: \"line\",\n    data: data,\n    options: commonOptions,\n    getElementAtEvent: getElementAtEvent,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 5\n    }\n  });\n};\n\nvar BarChartRenderer = function BarChartRenderer(_ref3) {\n  var resultSet = _ref3.resultSet,\n      pivotConfig = _ref3.pivotConfig,\n      onDrilldownRequested = _ref3.onDrilldownRequested;\n  var datasets = useDeepCompareMemo(function () {\n    return resultSet.series().map(function (s, index) {\n      return {\n        label: s.title,\n        data: s.series.map(function (r) {\n          return r.value;\n        }),\n        yValues: [s.key],\n        backgroundColor: COLORS_SERIES[index],\n        fill: false\n      };\n    });\n  }, [resultSet]);\n  var data = {\n    labels: resultSet.categories().map(function (c) {\n      return c.x;\n    }),\n    datasets: datasets\n  };\n  var stacked = !(pivotConfig.x || []).includes('measures');\n\n  var options = _objectSpread({}, commonOptions, {\n    scales: {\n      x: _objectSpread({}, commonOptions.scales.x, {\n        stacked: stacked\n      }),\n      y: _objectSpread({}, commonOptions.scales.y, {\n        stacked: stacked\n      })\n    }\n  });\n\n  var getElementAtEvent = useDrilldownCallback({\n    datasets: data.datasets,\n    labels: data.labels,\n    onDrilldownRequested: onDrilldownRequested,\n    pivotConfig: pivotConfig\n  });\n  return /*#__PURE__*/React.createElement(Bar, {\n    type: \"bar\",\n    data: data,\n    options: options,\n    getElementAtEvent: getElementAtEvent,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 5\n    }\n  });\n};\n\nvar AreaChartRenderer = function AreaChartRenderer(_ref4) {\n  var resultSet = _ref4.resultSet,\n      onDrilldownRequested = _ref4.onDrilldownRequested;\n  var datasets = useDeepCompareMemo(function () {\n    return resultSet.series().map(function (s, index) {\n      return {\n        label: s.title,\n        data: s.series.map(function (r) {\n          return r.value;\n        }),\n        yValues: [s.key],\n        pointRadius: 1,\n        pointHoverRadius: 1,\n        backgroundColor: PALE_COLORS_SERIES[index],\n        borderWidth: 0,\n        fill: true,\n        tension: 0\n      };\n    });\n  }, [resultSet]);\n  var data = {\n    labels: resultSet.categories().map(function (c) {\n      return c.x;\n    }),\n    datasets: datasets\n  };\n\n  var options = _objectSpread({}, commonOptions, {\n    scales: _objectSpread({}, commonOptions.scales, {\n      y: {\n        stacked: true\n      }\n    })\n  });\n\n  var getElementAtEvent = useDrilldownCallback({\n    datasets: data.datasets,\n    labels: data.labels,\n    onDrilldownRequested: onDrilldownRequested\n  });\n  return /*#__PURE__*/React.createElement(Line, {\n    type: \"area\",\n    data: data,\n    options: options,\n    getElementAtEvent: getElementAtEvent,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 5\n    }\n  });\n};\n\nvar PieChartRenderer = function PieChartRenderer(_ref5) {\n  var resultSet = _ref5.resultSet,\n      onDrilldownRequested = _ref5.onDrilldownRequested;\n  var data = {\n    labels: resultSet.categories().map(function (c) {\n      return c.x;\n    }),\n    datasets: resultSet.series().map(function (s) {\n      return {\n        label: s.title,\n        data: s.series.map(function (r) {\n          return r.value;\n        }),\n        yValues: [s.key],\n        backgroundColor: COLORS_SERIES,\n        hoverBackgroundColor: COLORS_SERIES\n      };\n    })\n  };\n  var getElementAtEvent = useDrilldownCallback({\n    datasets: data.datasets,\n    labels: data.labels,\n    onDrilldownRequested: onDrilldownRequested\n  });\n  return /*#__PURE__*/React.createElement(Pie, {\n    type: \"pie\",\n    data: data,\n    options: commonOptions,\n    getElementAtEvent: getElementAtEvent,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 5\n    }\n  });\n};\n\nvar formatTableData = function formatTableData(columns, data) {\n  function flatten() {\n    var columns = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    return columns.reduce(function (memo, column) {\n      if (column.children) {\n        return [].concat(_toConsumableArray(memo), _toConsumableArray(flatten(column.children)));\n      }\n\n      return [].concat(_toConsumableArray(memo), [column]);\n    }, []);\n  }\n\n  var typeByIndex = flatten(columns).reduce(function (memo, column) {\n    return _objectSpread({}, memo, _defineProperty({}, column.dataIndex, column));\n  }, {});\n\n  function formatValue(value) {\n    var _ref6 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        type = _ref6.type,\n        format = _ref6.format;\n\n    if (value === undefined) {\n      return value;\n    }\n\n    if (type === 'boolean') {\n      if (typeof value === 'boolean') {\n        return value.toString();\n      } else if (typeof value === 'number') {\n        return Boolean(value).toString();\n      }\n\n      return value;\n    }\n\n    if (type === 'number' && format === 'percent') {\n      return [parseFloat(value).toFixed(2), '%'].join('');\n    }\n\n    return value.toString();\n  }\n\n  function format(row) {\n    return Object.fromEntries(Object.entries(row).map(function (_ref7) {\n      var _ref8 = _slicedToArray(_ref7, 2),\n          dataIndex = _ref8[0],\n          value = _ref8[1];\n\n      return [dataIndex, formatValue(value, typeByIndex[dataIndex])];\n    }));\n  }\n\n  return data.map(format);\n};\n\nvar TableRenderer = function TableRenderer(_ref9) {\n  var resultSet = _ref9.resultSet,\n      pivotConfig = _ref9.pivotConfig;\n\n  var _useDeepCompareMemo = useDeepCompareMemo(function () {\n    var columns = resultSet.tableColumns(pivotConfig);\n    return [columns, formatTableData(columns, resultSet.tablePivot(pivotConfig))];\n  }, [resultSet, pivotConfig]),\n      _useDeepCompareMemo2 = _slicedToArray(_useDeepCompareMemo, 2),\n      tableColumns = _useDeepCompareMemo2[0],\n      dataSource = _useDeepCompareMemo2[1];\n\n  return /*#__PURE__*/React.createElement(Table, {\n    pagination: false,\n    columns: tableColumns,\n    dataSource: dataSource,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 5\n    }\n  });\n};\n\nvar cubejsApi = cubejs('CUBEJS-API-TOKEN', {\n  apiUrl: 'http://localhost:4000/cubejs-api/v1'\n});\n\nvar renderChart = function renderChart(_ref10) {\n  var resultSet = _ref10.resultSet,\n      error = _ref10.error,\n      pivotConfig = _ref10.pivotConfig,\n      onDrilldownRequested = _ref10.onDrilldownRequested;\n\n  if (error) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 12\n      }\n    }, error.toString());\n  }\n\n  if (!resultSet) {\n    return /*#__PURE__*/React.createElement(Spin, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 12\n      }\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(LineChartRenderer, {\n    resultSet: resultSet,\n    onDrilldownRequested: onDrilldownRequested,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 3\n    }\n  });\n};\n\nvar ChartRenderer = function ChartRenderer() {\n  return /*#__PURE__*/React.createElement(QueryRenderer, {\n    query: {\n      \"measures\": [\"LineItems.quantity\"],\n      \"order\": {\n        \"LineItems.quantity\": \"desc\"\n      },\n      \"dimensions\": [\"LineItems.createdAt\"]\n    },\n    cubejsApi: cubejsApi,\n    resetResultSetOnChange: false,\n    render: function render(props) {\n      return renderChart(_objectSpread({}, props, {\n        chartType: 'line',\n        pivotConfig: {\n          \"x\": [\"LineItems.createdAt\"],\n          \"y\": [\"measures\"],\n          \"fillMissingDates\": true,\n          \"joinDateRange\": false\n        }\n      }));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 317,\n      columnNumber: 5\n    }\n  });\n};\n\nReactDOM.render( /*#__PURE__*/React.createElement(ChartRenderer, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 349,\n    columnNumber: 17\n  }\n}), document.getElementById('root'));","map":{"version":3,"names":["ReactDOM","cubejs","QueryRenderer","Spin","React","Line","Bar","Pie","useDeepCompareMemo","Row","Col","Statistic","Table","COLORS_SERIES","PALE_COLORS_SERIES","commonOptions","maintainAspectRatio","interaction","intersect","plugins","legend","position","scales","x","ticks","autoSkip","maxRotation","padding","minRotation","useDrilldownCallback","datasets","labels","onDrilldownRequested","pivotConfig","useCallback","elements","length","datasetIndex","index","yValues","xValues","LineChartRenderer","resultSet","series","map","s","label","title","data","r","value","key","borderColor","pointRadius","tension","pointHoverRadius","borderWidth","tickWidth","fill","categories","c","getElementAtEvent","BarChartRenderer","backgroundColor","stacked","includes","options","y","AreaChartRenderer","PieChartRenderer","hoverBackgroundColor","formatTableData","columns","flatten","reduce","memo","column","children","typeByIndex","dataIndex","formatValue","type","format","undefined","toString","Boolean","parseFloat","toFixed","join","row","Object","fromEntries","entries","TableRenderer","tableColumns","tablePivot","dataSource","cubejsApi","apiUrl","renderChart","error","ChartRenderer","props","chartType","render","document","getElementById"],"sources":["/home/yacine/Pro/alpha/back/dashboard-app/src/index.js"],"sourcesContent":["import ReactDOM from 'react-dom';\nimport cubejs from '@cubejs-client/core';\nimport { QueryRenderer } from '@cubejs-client/react';\nimport { Spin } from 'antd';\nimport 'antd/dist/antd.css';\nimport React from 'react';\nimport { Line, Bar, Pie } from 'chartjs';\nimport { useDeepCompareMemo } from 'use-deep-compare';\nimport { Row, Col, Statistic, Table } from 'antd';\n\nconst COLORS_SERIES = [\n  '#5b8ff9',\n  '#5ad8a6',\n  '#5e7092',\n  '#f6bd18',\n  '#6f5efa',\n  '#6ec8ec',\n  '#945fb9',\n  '#ff9845',\n  '#299796',\n  '#fe99c3',\n];\nconst PALE_COLORS_SERIES = [\n  '#d7e3fd',\n  '#daf5e9',\n  '#d6dbe4',\n  '#fdeecd',\n  '#dad8fe',\n  '#dbf1fa',\n  '#e4d7ed',\n  '#ffe5d2',\n  '#cce5e4',\n  '#ffe6f0',\n];\nconst commonOptions = {\n  maintainAspectRatio: false,\n  interaction: {\n    intersect: false,\n  },\n  plugins: {\n    legend: {\n      position: 'bottom',\n    },\n  },\n  scales: {\n    x: {\n      ticks: {\n        autoSkip: true,\n        maxRotation: 0,\n        padding: 12,\n        minRotation: 0,\n      },\n    },\n  },\n};\n\nconst useDrilldownCallback = ({\n  datasets,\n  labels,\n  onDrilldownRequested,\n  pivotConfig,\n}) => {\n  return React.useCallback(\n    (elements) => {\n      if (elements.length <= 0) return;\n      const { datasetIndex, index } = elements[0];\n      const { yValues } = datasets[datasetIndex];\n      const xValues = [labels[index]];\n\n      if (typeof onDrilldownRequested === 'function') {\n        onDrilldownRequested(\n          {\n            xValues,\n            yValues,\n          },\n          pivotConfig\n        );\n      }\n    },\n    [datasets, labels, onDrilldownRequested]\n  );\n};\n\nconst LineChartRenderer = ({ resultSet, onDrilldownRequested }) => {\n  const datasets = useDeepCompareMemo(\n    () =>\n      resultSet.series().map((s, index) => ({\n        label: s.title,\n        data: s.series.map((r) => r.value),\n        yValues: [s.key],\n        borderColor: COLORS_SERIES[index],\n        pointRadius: 1,\n        tension: 0.1,\n        pointHoverRadius: 1,\n        borderWidth: 2,\n        tickWidth: 1,\n        fill: false,\n      })),\n    [resultSet]\n  );\n  const data = {\n    labels: resultSet.categories().map((c) => c.x),\n    datasets,\n  };\n  const getElementAtEvent = useDrilldownCallback({\n    datasets: data.datasets,\n    labels: data.labels,\n    onDrilldownRequested,\n  });\n  return (\n    <Line\n      type=\"line\"\n      data={data}\n      options={commonOptions}\n      getElementAtEvent={getElementAtEvent}\n    />\n  );\n};\n\nconst BarChartRenderer = ({ resultSet, pivotConfig, onDrilldownRequested }) => {\n  const datasets = useDeepCompareMemo(\n    () =>\n      resultSet.series().map((s, index) => ({\n        label: s.title,\n        data: s.series.map((r) => r.value),\n        yValues: [s.key],\n        backgroundColor: COLORS_SERIES[index],\n        fill: false,\n      })),\n    [resultSet]\n  );\n  const data = {\n    labels: resultSet.categories().map((c) => c.x),\n    datasets,\n  };\n  const stacked = !(pivotConfig.x || []).includes('measures');\n  const options = {\n    ...commonOptions,\n    scales: {\n      x: { ...commonOptions.scales.x, stacked },\n      y: { ...commonOptions.scales.y, stacked },\n    },\n  };\n  const getElementAtEvent = useDrilldownCallback({\n    datasets: data.datasets,\n    labels: data.labels,\n    onDrilldownRequested,\n    pivotConfig,\n  });\n  return (\n    <Bar\n      type=\"bar\"\n      data={data}\n      options={options}\n      getElementAtEvent={getElementAtEvent}\n    />\n  );\n};\n\nconst AreaChartRenderer = ({ resultSet, onDrilldownRequested }) => {\n  const datasets = useDeepCompareMemo(\n    () =>\n      resultSet.series().map((s, index) => ({\n        label: s.title,\n        data: s.series.map((r) => r.value),\n        yValues: [s.key],\n        pointRadius: 1,\n        pointHoverRadius: 1,\n        backgroundColor: PALE_COLORS_SERIES[index],\n        borderWidth: 0,\n        fill: true,\n        tension: 0,\n      })),\n    [resultSet]\n  );\n  const data = {\n    labels: resultSet.categories().map((c) => c.x),\n    datasets,\n  };\n  const options = {\n    ...commonOptions,\n    scales: {\n      ...commonOptions.scales,\n      y: {\n        stacked: true,\n      },\n    },\n  };\n  const getElementAtEvent = useDrilldownCallback({\n    datasets: data.datasets,\n    labels: data.labels,\n    onDrilldownRequested,\n  });\n  return (\n    <Line\n      type=\"area\"\n      data={data}\n      options={options}\n      getElementAtEvent={getElementAtEvent}\n    />\n  );\n};\n\nconst PieChartRenderer = ({ resultSet, onDrilldownRequested }) => {\n  const data = {\n    labels: resultSet.categories().map((c) => c.x),\n    datasets: resultSet.series().map((s) => ({\n      label: s.title,\n      data: s.series.map((r) => r.value),\n      yValues: [s.key],\n      backgroundColor: COLORS_SERIES,\n      hoverBackgroundColor: COLORS_SERIES,\n    })),\n  };\n  const getElementAtEvent = useDrilldownCallback({\n    datasets: data.datasets,\n    labels: data.labels,\n    onDrilldownRequested,\n  });\n  return (\n    <Pie\n      type=\"pie\"\n      data={data}\n      options={commonOptions}\n      getElementAtEvent={getElementAtEvent}\n    />\n  );\n};\n\nconst formatTableData = (columns, data) => {\n  function flatten(columns = []) {\n    return columns.reduce((memo, column) => {\n      if (column.children) {\n        return [...memo, ...flatten(column.children)];\n      }\n\n      return [...memo, column];\n    }, []);\n  }\n\n  const typeByIndex = flatten(columns).reduce((memo, column) => {\n    return { ...memo, [column.dataIndex]: column };\n  }, {});\n\n  function formatValue(value, { type, format } = {}) {\n    if (value === undefined) {\n      return value;\n    }\n\n    if (type === 'boolean') {\n      if (typeof value === 'boolean') {\n        return value.toString();\n      } else if (typeof value === 'number') {\n        return Boolean(value).toString();\n      }\n\n      return value;\n    }\n\n    if (type === 'number' && format === 'percent') {\n      return [parseFloat(value).toFixed(2), '%'].join('');\n    }\n\n    return value.toString();\n  }\n\n  function format(row) {\n    return Object.fromEntries(\n      Object.entries(row).map(([dataIndex, value]) => {\n        return [dataIndex, formatValue(value, typeByIndex[dataIndex])];\n      })\n    );\n  }\n\n  return data.map(format);\n};\n\nconst TableRenderer = ({ resultSet, pivotConfig }) => {\n  const [tableColumns, dataSource] = useDeepCompareMemo(() => {\n    const columns = resultSet.tableColumns(pivotConfig);\n    return [\n      columns,\n      formatTableData(columns, resultSet.tablePivot(pivotConfig)),\n    ];\n  }, [resultSet, pivotConfig]);\n  return (\n    <Table pagination={false} columns={tableColumns} dataSource={dataSource} />\n  );\n};\n\n\nconst cubejsApi = cubejs(\n  'CUBEJS-API-TOKEN',\n  { apiUrl: 'http://localhost:4000/cubejs-api/v1' }\n);\n\nconst renderChart = ({ resultSet, error, pivotConfig, onDrilldownRequested }) => {\n  if (error) {\n    return <div>{error.toString()}</div>;\n  }\n\n  if (!resultSet) {\n    return <Spin />;\n  }\n\n  return (\n  <LineChartRenderer\n    resultSet={resultSet}\n    onDrilldownRequested={onDrilldownRequested}\n  />\n);\n\n};\n\nconst ChartRenderer = () => {\n  return (\n    <QueryRenderer\n      query={{\n  \"measures\": [\n    \"LineItems.quantity\"\n  ],\n  \"order\": {\n    \"LineItems.quantity\": \"desc\"\n  },\n  \"dimensions\": [\n    \"LineItems.createdAt\"\n  ]\n}}\n      cubejsApi={cubejsApi}\n      resetResultSetOnChange={false}\n      render={(props) => renderChart({\n        ...props,\n        chartType: 'line',\n        pivotConfig: {\n  \"x\": [\n    \"LineItems.createdAt\"\n  ],\n  \"y\": [\n    \"measures\"\n  ],\n  \"fillMissingDates\": true,\n  \"joinDateRange\": false\n}\n      })}\n    />\n  );\n};\n\nReactDOM.render(<ChartRenderer />, document.getElementById('root'));\n      "],"mappings":"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"},"metadata":{},"sourceType":"module"}